import{A as le,B as O,_ as re,C as Z,D as se,E as N,g as T,G as ue,H as de,o as v,c as y,a as u,I,J as ee,K as ce,L as U,M as fe,d as E,t as B,v as P,n as L,N as me,r as M,O as R,l as te,P as pe,Q as ve,R as ge,S as F,b as p,w as $,j as s,T as ye,i as K,F as Q,s as z,x as be,y as j,m as ne,z as oe,k as ie,U as _e}from"./BPxXXuPx.js";import{_ as he}from"./D-ovf8wO.js";import{_ as xe}from"./uyLKr0GP.js";import{u as Ce,_ as ke}from"./C35woSX3.js";import{u as Ve}from"./idEeLdr0.js";import{_ as we}from"./Q5DahPTF.js";import{_ as Se}from"./Bq0Lqu5x.js";import{_ as Ue}from"./CVIgLG1e.js";import"./1rU_zpq0.js";const qe={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},G=le(O.ui.strategy,O.ui.checkbox,qe),je=Z({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>G.default.color,validator(e){return O.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:o}){const{ui:n,attrs:i}=se("checkbox",N(e,"ui"),G,N(e,"class")),{emitFormChange:r,color:t,name:d,inputId:f}=Ce(e),a=f.value??Ve("$w0Dlaqhaps"),x=T({get(){return e.modelValue},set(_){o("update:modelValue",_)}}),m=_=>{o("change",_.target.checked),r()},c=T(()=>ue(de(n.value.base,n.value.form,n.value.rounded,n.value.background,n.value.border,t.value&&n.value.ring.replaceAll("{color}",t.value),t.value&&n.value.color.replaceAll("{color}",t.value)),e.inputClass));return{ui:n,attrs:i,toggle:x,inputId:a,name:d,inputClass:c,onChange:m}}}),Ee=["data-n-ids"],$e=["id","name","required","value","disabled","indeterminate"],Be=["for"];function Me(e,o,n,i,r,t){return v(),y("div",{class:U(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[u("div",{class:U(e.ui.container)},[I(u("input",ce({id:e.inputId,"onUpdate:modelValue":o[0]||(o[0]=d=>e.toggle=d),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:o[1]||(o[1]=(...d)=>e.onChange&&e.onChange(...d))}),null,16,$e),[[ee,e.toggle]])],2),e.label||e.$slots.label?(v(),y("div",{key:0,class:U(e.ui.inner)},[u("label",{for:e.inputId,class:U(e.ui.label)},[fe(e.$slots,"label",{},()=>[E(B(e.label),1)]),e.required?(v(),y("span",{key:0,class:U(e.ui.required)},"*",2)):P("",!0)],10,Be),e.help?(v(),y("p",{key:0,class:U(e.ui.help)},B(e.help),3)):P("",!0)],2)):P("",!0)],10,Ee)}const Pe=re(je,[["render",Me]]);var Ie=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],De=function(e){return Ie.map(function(o){return o.toLowerCase()}).indexOf(e.toLowerCase())!==-1},Ae=function(e,o,n){Object.keys(o).filter(De).forEach(function(i){var r=o[i];typeof r=="function"&&(i==="onInit"?r(e,n):n.on(i.substring(2),function(t){return r(t,n)}))})},Oe=function(e,o,n,i){var r=e.modelEvents?e.modelEvents:null,t=Array.isArray(r)?r.join(" "):r;L(i,function(d,f){n&&typeof d=="string"&&d!==f&&d!==n.getContent({format:e.outputFormat})&&n.setContent(d)}),n.on(t||"change input undo redo",function(){o.emit("update:modelValue",n.getContent({format:e.outputFormat}))})},Le=function(e,o,n,i,r,t){i.setContent(t()),n.attrs["onUpdate:modelValue"]&&Oe(o,n,i,r),Ae(e,n.attrs,i)},H=0,ae=function(e){var o=Date.now(),n=Math.floor(Math.random()*1e9);return H++,e+"_"+n+H+String(o)},Qe=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},J=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},ze=function(e,o){return J(e).concat(J(o))},Ne=function(e){return e==null},W=function(){return{listeners:[],scriptId:ae("tiny-script"),scriptLoaded:!1}},Te=function(){var e=W(),o=function(r,t,d,f){var a=t.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=r,a.src=d;var x=function(){a.removeEventListener("load",x),f()};a.addEventListener("load",x),t.head&&t.head.appendChild(a)},n=function(r,t,d){e.scriptLoaded?d():(e.listeners.push(d),r.getElementById(e.scriptId)||o(e.scriptId,r,t,function(){e.listeners.forEach(function(f){return f()}),e.scriptLoaded=!0}))},i=function(){e=W()};return{load:n,reinitialize:i}},Re=Te(),Fe=function(){return typeof window<"u"?window:global},q=function(){var e=Fe();return e&&e.tinymce?e.tinymce:null},Ke={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},k=function(){return k=Object.assign||function(e){for(var o,n=1,i=arguments.length;n<i;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},k.apply(this,arguments)},Ge=function(e,o,n,i){return e(i||"div",{id:o,ref:n})},He=function(e,o,n){return e("textarea",{id:o,visibility:"hidden",ref:n})},A={selector:void 0,target:void 0},Y=Z({props:Ke,setup:function(e,o){var n=e.init?k(k({},e.init),A):k({},A),i=me(e),r=i.disabled,t=i.modelValue,d=i.tagName,f=M(null),a=null,x=e.id||ae("tiny-vue"),m=e.init&&e.init.inline||e.inline,c=!!o.attrs["onUpdate:modelValue"],_=!0,h=e.initialValue?e.initialValue:"",V="",S=function(g){return c?function(){return t!=null&&t.value?t.value:""}:function(){return g?h:V}},C=function(){var g=S(_),l=k(k({},n),{readonly:e.disabled,target:f.value,plugins:ze(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:m,setup:function(b){a=b,b.on("init",function(w){return Le(w,e,o,b,t,g)}),typeof n.setup=="function"&&n.setup(b)}});Qe(f.value)&&(f.value.style.visibility=""),q().init(l),_=!1};L(r,function(g){var l;a!==null&&(typeof((l=a.mode)===null||l===void 0?void 0:l.set)=="function"?a.mode.set(g?"readonly":"design"):a.setMode(g?"readonly":"design"))}),L(d,function(g){var l;c||(V=a.getContent()),(l=q())===null||l===void 0||l.remove(a),R(function(){return C()})}),te(function(){if(q()!==null)C();else if(f.value&&f.value.ownerDocument){var g=e.cloudChannel?e.cloudChannel:"6",l=e.apiKey?e.apiKey:"no-api-key",b=Ne(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(l,"/tinymce/").concat(g,"/tinymce.min.js"):e.tinymceScriptSrc;Re.load(f.value.ownerDocument,b,C)}}),pe(function(){q()!==null&&q().remove(a)}),m||(ve(function(){_||C()}),ge(function(){var g;c||(V=a.getContent()),(g=q())===null||g===void 0||g.remove(a)}));var D=function(g){var l;V=a.getContent(),(l=q())===null||l===void 0||l.remove(a),n=k(k(k({},n),g),A),R(function(){return C()})};return o.expose({rerender:D,getEditor:function(){return a}}),function(){return m?Ge(F,x,f,e.tagName):He(F,x,f)}}});const Je=["Physics 1st Paper","Physics 2nd Paper","Chemistry 1st Paper","Chemistry 2nd Paper","Biology 1st Paper","Biology 2nd Paper","English","GK"],We=["None","Easy","Medium","Hard"],X={min_height:200,menubar:!1,plugins:"lists link image table code help wordcount table autoresize",toolbar:"undo redo | subscript | superscript | formatselect | bold italic underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image | table | wordcount"},Ye={key:0,class:"p-5"},Xe=u("div",null,[u("h1",{class:"text-lg font-semibold text-center"}," Create New MCQ ")],-1),Ze={class:"my-3 space-y-5"},et={class:"sticky top-0 z-10 grid grid-cols-3 gap-5 py-5 bg-white"},tt={class:"flex flex-wrap mb-6 -mx-3"},nt={class:"w-full px-3 mb-6 md:mb-0"},ot={class:"flex items-center justify-between"},it=u("label",{class:"block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase",for:"grid-question"},"Question",-1),at={class:"inline-flex items-center space-x-2"},lt=u("label",{class:"block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase",for:"grid-question"},"Rich Text",-1),rt={key:1},st={class:"space-y-3"},ut={class:"flex items-center justify-between"},dt={key:1},ct={class:"py-2 my-3 text-center"},ft={__name:"ManageQuestion",props:{question:{type:Object},label:{type:String,default:"Create MCQ"},isEdit:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:o}){const{$axios:n}=ie(),i=e,r=M(!1),t=M(i.isEdit?{question:i.question.question,options:i.question.options.map(m=>({option_text:m.option_text,correct:m.correct})),subject:i.question.subject,difficulty:i.question.difficulty}:{question:"",options:[{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1}],subject:"",difficulty:""}),d=M({question:!0,a:!0,b:!0,c:!0,d:!0,subject:"",difficulty:""}),f=o,a=M(!1),x=async()=>{if(a.value=!0,t.value.options.filter(m=>m.correct).length==0){j().add({title:"Please select correct answer"}),a.value=!1;return}if(t.value.options.filter(m=>m.option_text.trim()=="").length>0){j().add({title:"Please fill all the options"}),a.value=!1;return}if(t.value.question.trim()==""){j().add({title:"Please fill the question"}),a.value=!1;return}try{if(i.isEdit){(await n.put("/questions/"+i.question._id,t.value)).status==201&&(f("close"),j().add({title:"Question edited successfully"})),a.value=!1;return}const{status:m}=await n.post("/questions",t.value);m===201&&(t.value={question:"",options:[{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1}],subject:"",difficulty:""},r.value=!1,j().add({title:"Question Uploaded"}),f("close")),a.value=!1}catch(m){console.log(m),j().add({title:"Something went wrong",description:m.response.data.message})}finally{a.value=!1}};return(m,c)=>{const _=ne,h=oe,V=he,S=xe,C=Pe,D=ke,g=we;return v(),y("div",null,[p(h,{onClick:c[0]||(c[0]=l=>r.value=!0)},{default:$(()=>[p(_,{name:e.isEdit?"lucide:edit":"lucide:plus"},null,8,["name"]),E(" "+B(e.label),1)]),_:1}),p(g,{modelValue:s(r),"onUpdate:modelValue":c[6]||(c[6]=l=>be(r)?r.value=l:null),ui:{width:"md:max-w-2xl w-full"}},{default:$(()=>[s(t)?(v(),y("div",Ye,[Xe,u("form",{onSubmit:ye(x,["prevent"])},[u("div",Ze,[u("div",et,[p(V,{modelValue:s(t).subject,"onUpdate:modelValue":c[1]||(c[1]=l=>s(t).subject=l),options:s(Je),label:"Subject",placeholder:"Select Subject"},null,8,["modelValue","options"]),p(V,{modelValue:s(t).difficulty,"onUpdate:modelValue":c[2]||(c[2]=l=>s(t).difficulty=l),options:s(We),label:"Difficulty",placeholder:"Select Difficulty"},null,8,["modelValue","options"])])]),u("div",tt,[u("div",nt,[u("div",ot,[it,u("div",at,[lt,I(u("input",{type:"checkbox",class:"-mt-2 checkbox checkbox-primary","onUpdate:modelValue":c[3]||(c[3]=l=>s(d).question=l)},null,512),[[ee,s(d).question]])])]),s(d).question?(v(),y("div",rt,[p(s(Y),{modelValue:s(t).question,"onUpdate:modelValue":c[5]||(c[5]=l=>s(t).question=l),"api-key":"dhu3tqgm970fbnm2joay4oofjz7xjpaa9cu3tlsxe8bz1m4o",init:s(X)},null,8,["modelValue","init"])])):(v(),K(S,{key:0,modelValue:s(t).question,"onUpdate:modelValue":c[4]||(c[4]=l=>s(t).question=l),placeholder:"Question"},null,8,["modelValue"]))])]),u("div",st,[(v(),y(Q,null,z(["a","b","c","d"],(l,b)=>u("div",{key:b,class:"w-full p-1 space-y-2"},[u("div",ut,[p(C,{modelValue:s(t).options[b].correct,"onUpdate:modelValue":w=>s(t).options[b].correct=w,label:`Question ${l.toUpperCase()}`},null,8,["modelValue","onUpdate:modelValue","label"]),p(C,{modelValue:s(d)[l],"onUpdate:modelValue":w=>s(d)[l]=w,label:"Rich Text"},null,8,["modelValue","onUpdate:modelValue"])]),s(d)[l]?(v(),y("div",dt,[p(s(Y),{modelValue:s(t).options[b].option_text,"onUpdate:modelValue":w=>s(t).options[b].option_text=w,"api-key":"dhu3tqgm970fbnm2joay4oofjz7xjpaa9cu3tlsxe8bz1m4o",init:s(X)},null,8,["modelValue","onUpdate:modelValue","init"])])):(v(),K(D,{key:0,modelValue:s(t).options[b].option_text,"onUpdate:modelValue":w=>s(t).options[b].option_text=w,placeholder:"Answer"},null,8,["modelValue","onUpdate:modelValue"]))])),64))]),u("div",ct,[p(h,{size:"md",class:U({loading:s(a)}),type:"submit"},{default:$(()=>[E(B(e.isEdit?"Edit":"Create")+" MCQ ",1)]),_:1},8,["class"])])],32)])):P("",!0)]),_:1},8,["modelValue"])])}}},mt={class:"flex justify-between print:hidden"},pt=u("h1",{class:"text-2xl font-semibold"},"Questions",-1),vt={key:0,class:"my-5 space-y-5"},gt={class:"flex gap-3"},yt={class:"mt-3 text-lg font-semibold"},bt={class:"flex flex-wrap gap-3 mt-4"},_t={class:"flex gap-3 items-center mt-3 print:hidden"},ht={key:1},Et={__name:"questions",setup(e){const{$axios:o}=ie(),n=M(null),i=async()=>{const{data:t}=await o("/questions");n.value=t.questions},r=async t=>{confirm("Are you sure you want to delete this question?")&&(await o.delete(`/questions/${t}`),j().add({title:"Question deleted successfully"}),i())};return te(()=>{i()}),(t,d)=>{const f=ft,a=Se,x=ne,m=oe,c=Ue,_=_e("katex");return v(),y("div",null,[u("div",mt,[pt,p(f,{onClose:i})]),s(n)?(v(),y("div",vt,[(v(!0),y(Q,null,z(s(n),(h,V)=>(v(),y("div",{key:h._id,class:"p-5 border rounded-2xl"},[u("div",gt,[p(a,{color:"amber"},{default:$(()=>[E(" Q. "+B(V+1),1)]),_:2},1024),p(a,{color:"blue"},{default:$(()=>[E(B(h.subject),1)]),_:2},1024),p(a,{color:"orange"},{default:$(()=>[E(B(h.difficulty),1)]),_:2},1024)]),I(u("div",yt,null,512),[[_,h.question]]),u("div",bt,[(v(!0),y(Q,null,z(h.options,(S,C)=>(v(),y("div",{key:C},[u("div",{class:U(["p-2 rounded-lg border",{"border-2 border-black":S.correct,"bg-white":!S.correct}])},[I(u("div",null,null,512),[[_,S.option_text]])],2)]))),128))]),u("div",_t,[p(f,{question:h,label:"Edit Question",isEdit:!0,onClose:i},null,8,["question"]),p(m,{onClick:S=>r(h._id),color:"red"},{default:$(()=>[p(x,{name:"lucide:trash"}),E(" Delete ")]),_:2},1032,["onClick"])])]))),128))])):(v(),y("div",ht,[p(c)]))])}}};export{Et as default};
