import{x as le,y as O,_ as re,z as Z,A as se,B as N,C as T,D as ue,E as de,o as y,c as _,a as u,G as I,H as ee,I as ce,J as V,K as fe,d as U,t as E,n as P,k as L,L as me,r as $,M as R,g as te,N as pe,O as ve,P as ge,Q as F,b as g,w as j,h as s,R as ye,S as K,F as Q,m as z,q as be,s as q,i as ne,v as oe,j as ae,T as _e}from"./CSFbdqlw.js";import{_ as he}from"./B_Qi-dq_.js";import{_ as xe}from"./C1Er2McH.js";import{u as Ce,_ as ke}from"./CZbTxhus.js";import{u as we}from"./C-ZwuSMX.js";import{_ as Ve}from"./DmigclA4.js";import{_ as Se}from"./BCLlExTB.js";import"./BHP1Cijq.js";const qe={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},H=le(O.ui.strategy,O.ui.checkbox,qe),Ue=Z({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>H.default.color,validator(e){return O.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:o}){const{ui:n,attrs:a}=se("checkbox",N(e,"ui"),H,N(e,"class")),{emitFormChange:r,color:t,name:d,inputId:f}=Ce(e),i=f.value??we("$w0Dlaqhaps"),x=T({get(){return e.modelValue},set(p){o("update:modelValue",p)}}),m=p=>{o("change",p.target.checked),r()},c=T(()=>ue(de(n.value.base,n.value.form,n.value.rounded,n.value.background,n.value.border,t.value&&n.value.ring.replaceAll("{color}",t.value),t.value&&n.value.color.replaceAll("{color}",t.value)),e.inputClass));return{ui:n,attrs:a,toggle:x,inputId:i,name:d,inputClass:c,onChange:m}}}),je=["data-n-ids"],Ee=["id","name","required","value","disabled","indeterminate"],Me=["for"];function $e(e,o,n,a,r,t){return y(),_("div",{class:V(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[u("div",{class:V(e.ui.container)},[I(u("input",ce({id:e.inputId,"onUpdate:modelValue":o[0]||(o[0]=d=>e.toggle=d),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:o[1]||(o[1]=(...d)=>e.onChange&&e.onChange(...d))}),null,16,Ee),[[ee,e.toggle]])],2),e.label||e.$slots.label?(y(),_("div",{key:0,class:V(e.ui.inner)},[u("label",{for:e.inputId,class:V(e.ui.label)},[fe(e.$slots,"label",{},()=>[U(E(e.label),1)]),e.required?(y(),_("span",{key:0,class:V(e.ui.required)},"*",2)):P("",!0)],10,Me),e.help?(y(),_("p",{key:0,class:V(e.ui.help)},E(e.help),3)):P("",!0)],2)):P("",!0)],10,je)}const Be=re(Ue,[["render",$e]]);var Pe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Ie=function(e){return Pe.map(function(o){return o.toLowerCase()}).indexOf(e.toLowerCase())!==-1},De=function(e,o,n){Object.keys(o).filter(Ie).forEach(function(a){var r=o[a];typeof r=="function"&&(a==="onInit"?r(e,n):n.on(a.substring(2),function(t){return r(t,n)}))})},Ae=function(e,o,n,a){var r=e.modelEvents?e.modelEvents:null,t=Array.isArray(r)?r.join(" "):r;L(a,function(d,f){n&&typeof d=="string"&&d!==f&&d!==n.getContent({format:e.outputFormat})&&n.setContent(d)}),n.on(t||"change input undo redo",function(){o.emit("update:modelValue",n.getContent({format:e.outputFormat}))})},Oe=function(e,o,n,a,r,t){a.setContent(t()),n.attrs["onUpdate:modelValue"]&&Ae(o,n,a,r),De(e,n.attrs,a)},G=0,ie=function(e){var o=Date.now(),n=Math.floor(Math.random()*1e9);return G++,e+"_"+n+G+String(o)},Le=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},J=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},Qe=function(e,o){return J(e).concat(J(o))},ze=function(e){return e==null},W=function(){return{listeners:[],scriptId:ie("tiny-script"),scriptLoaded:!1}},Ne=function(){var e=W(),o=function(r,t,d,f){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=r,i.src=d;var x=function(){i.removeEventListener("load",x),f()};i.addEventListener("load",x),t.head&&t.head.appendChild(i)},n=function(r,t,d){e.scriptLoaded?d():(e.listeners.push(d),r.getElementById(e.scriptId)||o(e.scriptId,r,t,function(){e.listeners.forEach(function(f){return f()}),e.scriptLoaded=!0}))},a=function(){e=W()};return{load:n,reinitialize:a}},Te=Ne(),Re=function(){return typeof window<"u"?window:global},S=function(){var e=Re();return e&&e.tinymce?e.tinymce:null},Fe={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},C=function(){return C=Object.assign||function(e){for(var o,n=1,a=arguments.length;n<a;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},C.apply(this,arguments)},Ke=function(e,o,n,a){return e(a||"div",{id:o,ref:n})},He=function(e,o,n){return e("textarea",{id:o,visibility:"hidden",ref:n})},A={selector:void 0,target:void 0},Y=Z({props:Fe,setup:function(e,o){var n=e.init?C(C({},e.init),A):C({},A),a=me(e),r=a.disabled,t=a.modelValue,d=a.tagName,f=$(null),i=null,x=e.id||ie("tiny-vue"),m=e.init&&e.init.inline||e.inline,c=!!o.attrs["onUpdate:modelValue"],p=!0,M=e.initialValue?e.initialValue:"",h="",B=function(v){return c?function(){return t!=null&&t.value?t.value:""}:function(){return v?M:h}},w=function(){var v=B(p),l=C(C({},n),{readonly:e.disabled,target:f.value,plugins:Qe(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:m,setup:function(b){i=b,b.on("init",function(k){return Oe(k,e,o,b,t,v)}),typeof n.setup=="function"&&n.setup(b)}});Le(f.value)&&(f.value.style.visibility=""),S().init(l),p=!1};L(r,function(v){var l;i!==null&&(typeof((l=i.mode)===null||l===void 0?void 0:l.set)=="function"?i.mode.set(v?"readonly":"design"):i.setMode(v?"readonly":"design"))}),L(d,function(v){var l;c||(h=i.getContent()),(l=S())===null||l===void 0||l.remove(i),R(function(){return w()})}),te(function(){if(S()!==null)w();else if(f.value&&f.value.ownerDocument){var v=e.cloudChannel?e.cloudChannel:"6",l=e.apiKey?e.apiKey:"no-api-key",b=ze(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(l,"/tinymce/").concat(v,"/tinymce.min.js"):e.tinymceScriptSrc;Te.load(f.value.ownerDocument,b,w)}}),pe(function(){S()!==null&&S().remove(i)}),m||(ve(function(){p||w()}),ge(function(){var v;c||(h=i.getContent()),(v=S())===null||v===void 0||v.remove(i)}));var D=function(v){var l;h=i.getContent(),(l=S())===null||l===void 0||l.remove(i),n=C(C(C({},n),v),A),R(function(){return w()})};return o.expose({rerender:D,getEditor:function(){return i}}),function(){return m?Ke(F,x,f,e.tagName):He(F,x,f)}}});const Ge=["Physics 1st Paper","Physics 2nd Paper","Chemistry 1st Paper","Chemistry 2nd Paper","Highet Math 1st Paper","Highet Math 2nd Paper"],Je=["None","Easy","Medium","Hard"],X={min_height:200,menubar:!1,plugins:"lists link image table code help wordcount table autoresize",toolbar:"undo redo | subscript | superscript | formatselect | bold italic underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image | table | wordcount"},We={key:0,class:"p-5"},Ye=u("div",null,[u("h1",{class:"text-lg font-semibold text-center"}," Create New MCQ ")],-1),Xe={class:"my-3 space-y-5"},Ze={class:"sticky top-0 z-10 grid grid-cols-3 gap-5 py-5 bg-white"},et={class:"flex flex-wrap mb-6 -mx-3"},tt={class:"w-full px-3 mb-6 md:mb-0"},nt={class:"flex items-center justify-between"},ot=u("label",{class:"block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase",for:"grid-question"},"Question",-1),at={class:"inline-flex items-center space-x-2"},it=u("label",{class:"block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase",for:"grid-question"},"Rich Text",-1),lt={key:1},rt={class:"space-y-3"},st={class:"flex items-center justify-between"},ut={key:1},dt={class:"py-2 my-3 text-center"},ct={__name:"ManageQuestion",props:{question:{type:Object},label:{type:String,default:"Create MCQ"},isEdit:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:o}){const{$axios:n}=ae(),a=e,r=$(!1),t=$(a.isEdit?{question:a.question.question,options:a.question.options.map(m=>({option_text:m.option_text,correct:m.correct})),subject:a.question.subject,difficulty:a.question.difficulty}:{question:"",options:[{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1}],subject:"",difficulty:""}),d=$({question:!0,a:!0,b:!0,c:!0,d:!0,subject:"",difficulty:""}),f=o,i=$(!1),x=async()=>{if(i.value=!0,t.value.options.filter(m=>m.correct).length==0){q().add({title:"Please select correct answer"}),i.value=!1;return}if(t.value.options.filter(m=>m.option_text.trim()=="").length>0){q().add({title:"Please fill all the options"}),i.value=!1;return}if(t.value.question.trim()==""){q().add({title:"Please fill the question"}),i.value=!1;return}try{if(a.isEdit){(await n.put("/questions/"+a.question._id,t.value)).status==201&&(f("close"),q().add({title:"Question edited successfully"})),i.value=!1;return}const{status:m}=await n.post("/questions",t.value);m===201&&(t.value={question:"",options:[{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1}],subject:"",difficulty:""},r.value=!1,q().add({title:"Question Uploaded"}),f("close")),i.value=!1}catch(m){console.log(m),q().add({title:"Something went wrong",description:m.response.data.message})}finally{i.value=!1}};return(m,c)=>{const p=ne,M=oe,h=he,B=xe,w=Be,D=ke,v=Ve;return y(),_("div",null,[g(M,{onClick:c[0]||(c[0]=l=>r.value=!0)},{default:j(()=>[g(p,{name:e.isEdit?"lucide:edit":"lucide:plus"},null,8,["name"]),U(" "+E(e.label),1)]),_:1}),g(v,{modelValue:s(r),"onUpdate:modelValue":c[6]||(c[6]=l=>be(r)?r.value=l:null),ui:{width:"md:max-w-2xl w-full"}},{default:j(()=>[s(t)?(y(),_("div",We,[Ye,u("form",{onSubmit:ye(x,["prevent"])},[u("div",Xe,[u("div",Ze,[g(h,{modelValue:s(t).subject,"onUpdate:modelValue":c[1]||(c[1]=l=>s(t).subject=l),options:s(Ge),label:"Subject",placeholder:"Select Subject"},null,8,["modelValue","options"]),g(h,{modelValue:s(t).difficulty,"onUpdate:modelValue":c[2]||(c[2]=l=>s(t).difficulty=l),options:s(Je),label:"Difficulty",placeholder:"Select Difficulty"},null,8,["modelValue","options"])])]),u("div",et,[u("div",tt,[u("div",nt,[ot,u("div",at,[it,I(u("input",{type:"checkbox",class:"-mt-2 checkbox checkbox-primary","onUpdate:modelValue":c[3]||(c[3]=l=>s(d).question=l)},null,512),[[ee,s(d).question]])])]),s(d).question?(y(),_("div",lt,[g(s(Y),{modelValue:s(t).question,"onUpdate:modelValue":c[5]||(c[5]=l=>s(t).question=l),"api-key":"dhu3tqgm970fbnm2joay4oofjz7xjpaa9cu3tlsxe8bz1m4o",init:s(X)},null,8,["modelValue","init"])])):(y(),K(B,{key:0,modelValue:s(t).question,"onUpdate:modelValue":c[4]||(c[4]=l=>s(t).question=l),placeholder:"Question"},null,8,["modelValue"]))])]),u("div",rt,[(y(),_(Q,null,z(["a","b","c","d"],(l,b)=>u("div",{key:b,class:"w-full p-1 space-y-2"},[u("div",st,[g(w,{modelValue:s(t).options[b].correct,"onUpdate:modelValue":k=>s(t).options[b].correct=k,label:`Question ${l.toUpperCase()}`},null,8,["modelValue","onUpdate:modelValue","label"]),g(w,{modelValue:s(d)[l],"onUpdate:modelValue":k=>s(d)[l]=k,label:"Rich Text"},null,8,["modelValue","onUpdate:modelValue"])]),s(d)[l]?(y(),_("div",ut,[g(s(Y),{modelValue:s(t).options[b].option_text,"onUpdate:modelValue":k=>s(t).options[b].option_text=k,"api-key":"dhu3tqgm970fbnm2joay4oofjz7xjpaa9cu3tlsxe8bz1m4o",init:s(X)},null,8,["modelValue","onUpdate:modelValue","init"])])):(y(),K(D,{key:0,modelValue:s(t).options[b].option_text,"onUpdate:modelValue":k=>s(t).options[b].option_text=k,placeholder:"Answer"},null,8,["modelValue","onUpdate:modelValue"]))])),64))]),u("div",dt,[g(M,{size:"md",class:V({loading:s(i)}),type:"submit"},{default:j(()=>[U(E(e.isEdit?"Edit":"Create")+" MCQ ",1)]),_:1},8,["class"])])],32)])):P("",!0)]),_:1},8,["modelValue"])])}}},ft={class:"flex justify-between print:hidden"},mt=u("h1",{class:"text-2xl font-semibold"},"Questions",-1),pt={class:"my-5 space-y-5"},vt={class:"flex gap-3"},gt={class:"mt-3 text-lg font-semibold"},yt={class:"flex flex-wrap gap-3 mt-4"},bt={class:"flex gap-3 items-center mt-3 print:hidden"},qt={__name:"questions",setup(e){const{$axios:o}=ae(),n=$([]),a=async()=>{const{data:t}=await o("/questions");n.value=t.questions},r=async t=>{confirm("Are you sure you want to delete this question?")&&(await o.delete(`/questions/${t}`),q().add({title:"Question deleted successfully"}),a())};return te(()=>{a()}),(t,d)=>{const f=ct,i=Se,x=ne,m=oe,c=_e("katex");return y(),_("div",null,[u("div",ft,[mt,g(f,{onClose:a})]),u("div",pt,[(y(!0),_(Q,null,z(s(n),(p,M)=>(y(),_("div",{key:p._id,class:"p-5 border rounded-2xl"},[u("div",vt,[g(i,{color:"amber"},{default:j(()=>[U(" Q. "+E(M+1),1)]),_:2},1024),g(i,{color:"blue"},{default:j(()=>[U(E(p.subject),1)]),_:2},1024),g(i,{color:"orange"},{default:j(()=>[U(E(p.difficulty),1)]),_:2},1024)]),I(u("div",gt,null,512),[[c,p.question]]),u("div",yt,[(y(!0),_(Q,null,z(p.options,(h,B)=>(y(),_("div",{key:B},[u("div",{class:V(["p-2 rounded-lg border",{"text-white border-2 border-black":h.correct,"bg-white":!h.correct}])},[I(u("div",null,null,512),[[c,h.option_text]])],2)]))),128))]),u("div",bt,[g(f,{question:p,label:"Edit Question",isEdit:!0,onClose:a},null,8,["question"]),g(m,{onClick:h=>r(p._id),color:"red"},{default:j(()=>[g(x,{name:"lucide:trash"}),U(" Delete ")]),_:2},1032,["onClick"])])]))),128))])])}}};export{qt as default};
