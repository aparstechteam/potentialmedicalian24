import{_ as I}from"./u3F2JF7E.js";import{_ as $,r as i,n as D,o,c as r,b as l,w as p,d as v,t as f,j as n,m as L,as as U,F as y,l as T,a as m,i as j,v as q,B,at as M,a3 as F,N as C,V as H}from"./BudS9JwL.js";import{_ as Y}from"./TQb6-wOB.js";import{u as N}from"./DJOOTdgY.js";const A=window.setInterval,O={class:"fixed__timer"},Q={__name:"ExamTimer",props:{end_time:{type:Number,required:!0}},setup(w){const s=w,x=i(0),b=i(0),u=i(0),h=()=>{let e=new Date(s.end_time).getTime(),t=A(()=>{let a=new Date().getTime(),c=e-a;x.value=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),b.value=Math.floor(c%(1e3*60*60)/(1e3*60)),u.value=Math.floor(c%(1e3*60)/1e3),c<0&&clearInterval(t)},1e3)};D(()=>{h()});const d=e=>e<10?`0${e}`:e;return(e,t)=>{const a=L;return o(),r("div",O,[l(a,{color:"black",size:"lg"},{default:p(()=>[v(f(d(n(x)))+" : "+f(d(n(b)))+" : "+f(d(n(u))),1)]),_:1})])}}},G=$(Q,[["__scopeId","data-v-5b7b9e72"]]),J={key:0,class:"max-w-2xl mx-auto pb-10 ns"},K=["innerHTML"],P={class:"flex gap-3 my-2 flex-wrap"},R={class:"mt-3 space-y-2"},W=["onClick"],X={class:"text-center"},Z={key:1},re={__name:"questions",setup(w){const s=i(null),x=i(!1),b=i(null),u=U("timer",null),h=async()=>{try{if(x.value){B().add({type:"success",icon:"i-heroicons-check-circle",title:"Submitted",description:"You answers have been submitted successfully",life:3e3,color:"green"}),N("revisit","submit","revisited exam submitted"),M("/");return}const e=s.value.filter(t=>t.selected).map(t=>({q:t._id,a:t.selected}));clearTimeout(u.value),u.value=null,B().add({type:"success",icon:"i-heroicons-check-circle",title:"Submitted",description:"Your answers have been submitted successfully",life:3e3,color:"green"}),N("exam","submit","exam submitted")}catch(e){console.log("===================================="),console.log(e),console.log("====================================")}M("/")};D(()=>{});const d=(e,t)=>{s.value[e].selected=t};return(e,t)=>{const a=I,c=L,S=Y,V=G,z=F("katex");return o(),r(y,null,[n(s)?(o(),r("div",J,[(o(!0),r(y,null,T(n(s),(g,_)=>(o(),r("div",{key:_,class:C(["p-5 mx-auto my-3 relative text-lg border border-gray-300 rounded-md shadow-lg bg-white kalpurush",{"stop-events":n(s)[_].selected}])},[m("div",{class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:g.question},null,8,K),m("div",P,[l(a,null,{default:p(()=>[v(" Q no. "+f(_+1),1)]),_:2},1024),l(a,{color:"violet"},{default:p(()=>[v(f(g.subject),1)]),_:2},1024),l(a,{color:"emerald"},{default:p(()=>[v(" 1 Mark")]),_:1})]),m("div",R,[(o(!0),r(y,null,T(g.options,(k,E)=>(o(),r("div",{key:E,class:C(["flex items-center transition z-10 hover:scale-105 duration-200 hover:border-green-300 cursor-pointer p-2 border rounded-md",{"border-2 border-green-500":n(s)[_].selected==k._id}]),onClick:ee=>d(_,k._id)},[H(m("div",null,null,512),[[z,k.option_text]])],10,W))),128))])],2))),128)),m("div",X,[l(c,{size:"lg",onClick:h},{default:p(()=>[v(" Submit ")]),_:1})])])):(o(),r("div",Z,[l(S)])),n(s)?(o(),j(V,{key:2,end_time:n(b)},null,8,["end_time"])):q("",!0)],64)}}};export{re as default};
